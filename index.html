
<!DOCTYPE html>
<html>
<head>
    <title>Create a Countdown!</title>
    <link rel='icon' href='https://cdn-icons-png.flaticon.com/512/2784/2784459.png' type='image/x-icon'>
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <meta name="viewport" content="width=device-width">
    <meta content='Create a Countdown!' property='og:title' />
    <meta content='Create a Countdown or Countdown with us at Christmas, New Year, and Valentines!' property='og:description'  />
    <meta content='/countdown' property='og:url' />
    <meta property='og:site_name' content='Countdown'>
    <meta content='https://media.tenor.com/chNErfisaHIAAAAM/cant-decide-counting.gif' property='og:image' />
    <meta content='#2f3136'  name='theme-color'/>

    <style>

        html{
            word-wrap: break-word;
              min-width:400px;
            scroll-behavior: smooth;
        }

        body{
            font-family: "Imprint MT Shadowv", Georgia, Times New Roman, serif;
            background: url("https://blog.lootcrate.com/wp-content/uploads/2019/12/original.gif") no-repeat center center fixed; 
            background-size: cover;
        }

        #message,#invalimg {
            text-align:center;
            font-size: 4em;
            animation: TextColorChange 6.5s infinite, movelol 8.5s infinite;
        }

        #timer {
           text-align: center;
           font-size: 4.2em;
           background-color: rgba(0, 0, 0, 0.3);
           border-radius: 30px;
           padding: 10px;
           color: white;
           margin: 20px auto;
           width: fit-content;
           cursor: progress;
           animation: TextTime 6.9s infinite;  
        }
        
        @keyframes TextTime {
        0%   {font-size:  min(100px,4.2em);}
        50%  {font-size:  min(88px,3.8em);}
        100% {font-size:  min(100px,4.2em);}
        }
        
        #menu{
            font-size: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 10px;
            width: fit-content;
            margin: 20px;
            cursor: pointer;
            color: white;

        }

        #small_label{
            font-size: 40%;
        }

        a {
            text-decoration: none;
            cursor: pointer;
            color:white;
        }
        #copyurl{color:black}
        #menucontent{
            animation: borderColorChange 6.5s infinite, movelol 1s;
            font-size: 20px;
            background-color: rgba(0, 0, 0, 0.9);
            border-radius: 30px;
            padding: 10px;
            width: 49%;
            margin: 20px;
            color: white;
            z-index: 1000;
            position: absolute;
            top: 0;
            text-align:center;
            max-width: 300px; 
            min-width: 200px;
            border-width: thick;
            border-style: solid;
           
        }
        @keyframes TextColorChange {
        0%   {color: rgb(0, 0, 0);}
        25% {color: rgb(255, 0, 255);}
        50%  {color: rgb(0, 255, 0);}
        75% {color: rgb(0, 0, 255);}
        100% {color: rgb(255, 255, 255);}
        }
        @keyframes borderColorChange {
            0%   {border-color: rgb(0, 0, 0);}
            25% {border-color: rgb(255, 0, 255);}
            50%  {border-color: rgb(0, 255, 0);}
            75% {border-color: rgb(0, 0, 255);}
            100% {border-color: rgb(255, 255, 255);}
        }
        @keyframes movelol {
              0% { transform: translate(1px, 1px) rotate(0deg); }
              10% { transform: translate(-1px, -2px) rotate(-1deg); }
              20% { transform: translate(-3px, 0px) rotate(1deg); }
              30% { transform: translate(3px, 2px) rotate(0deg); }
              40% { transform: translate(1px, -1px) rotate(1deg); }
              50% { transform: translate(-1px, 2px) rotate(-1deg); }
              60% { transform: translate(-3px, 1px) rotate(0deg); }
              70% { transform: translate(3px, 1px) rotate(-1deg); }
              80% { transform: translate(-1px, -1px) rotate(1deg); }
              90% { transform: translate(1px, 2px) rotate(0deg); }
              100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        form input, form button,button {
            margin-top: 10px;
            font-size: 19px;
            padding: 10px;
            border-radius: 8px;
            color: black;
            width:fit-content;
            max-width: 89%;
            height:fit-content;
            color:black;
            background-color:white;
        }

    </style>
</head>
<body id="body">
    <div id="menucontent">
        <a onclick="display('CountdownForm','none');display('createcountdown','inline');display('menucontent','none');" style="font-size:25px">X CLOSE MENU</a>
        <br>
        <button onclick="copyclip()" id="copylink"> Share this Countdown</button><br>  
        <button onclick="window.location.assign('/countdown')">Christmas Countdown</button>
        <br>
        <button onclick="window.location.assign('/countdown?event=HAPPY NEW YEAR')">New Year Countdown</button> <br>
        <button onclick="window.location.assign('/countdown?event=HAPPY VALENTINES')">Valentines Countdown</button> <br>
        
         <a id="createcountdown" onclick="display('createcountdown','none')" href="#CountdownForm"><button  onclick="display('CountdownForm','block')">Create Countdown</button> </a>
        <br>
        <form style="display: none" id="CountdownForm">
            <a style="font-size:17px">Date to countdown</a><br>
            <input type="date" id="date" name="date" min="2024-09-23" max="2043-12-31" value="2024-09-23" required/>
            <br>   <br>
            <a style="font-size:17px">Message</a><br>
            <input name="message" placeholder="Sample Greetings!" required>
            <br>   <br>
             
            
            <a style="font-size:17px">Valid URL of Background Image/GIF</a><br>
            
            <input style="width:48%" id="image1" name="image1" type="url" placeholder="1" required>
            <button id="imgbuttons" style="font-size:13.5px" onclick="addimage()">➕</button> 
            
            <br>
            <button style="font-size: 20px">Create Countdown Now!</button> 
        </form>

        <a style="font-size:15.5px">
        Made by Tabigs <br> Submitted as Project for Mr. Morales<br> Useful Links: <a href="https://replit.com/@Bolantoy/frantest#countdown.html" target="_blank" style="font-size:15.5px">Replit</a> <a href="https://github.com/frannytabigs/countdown" target="_blank" style="font-size:15.5px">Github</a> <a target="_blank" href="https://facebook.com/franny.bolantoy" style="font-size:15.5px">FB</a>
        </a>
    </div>

    <div id="menu" onclick="display('menucontent','block')">&#9776 December 25, 2024</div> <br>
    <div id="message">Merry Christmas!</div>
    <div id="timer"> 00<a id="small_label">d</a> 00<a id="small_label">h</a> 00<a id="small_label">m</a> 00<a id="small_label">s</a></div>

    <p id='invalimg' style='display:none'>INVALID BACKGROUND IMAGE/GIF! OR NO INTERNET?? REMAKE ANOTHER COUNTDOWN!</p>

    <script>
        
        
        images = 1;
        
        function addimage(){
        
            document.getElementById(`image${images}`).style.width = "67%";
            var rem = document.getElementById(`img${images}minus`);
            if (rem) rem.remove();
            images++;
            var butele = document.getElementById("imgbuttons");
            var ele = `<br><input style="width:48%" id="image${images}" placeholder="${images}" type="url" name="image${images}" required>`;
            var defbut = '<button id="imgbuttons"  style="font-size:13.5px" onclick="addimage()">➕</button>';
            var minbut = `<button id="img${images}minus" style="font-size:13.5px" onclick="removeimage()">➖</button>`;
            butele.innerHTML = "";
            butele.outerHTML = `<a id="removeimage${images}">` + ele + minbut  + defbut + "</a>";
            
        }
        

        function removeimage(){
            document.getElementById(`image${images}`).style.width = "48%";
            var rem = document.getElementById(`removeimage${images}`);
            if (rem) {rem.remove(); images--;}
            
            var rem = document.getElementById(`removeimage${images}`);
            var butele = document.getElementById("imgbuttons");
            var ele = `<br><input style="width:48%" id="image${images}" placeholder="${images}" type="url" name="image${images}" required>`;
            var defbut = '<button id="imgbuttons"  style="font-size:13.5px" onclick="addimage()">➕</button>';
            var minbut = `<button id="img${images}minus" style="font-size:13.5px" onclick="removeimage()">➖</button>`;
            if (rem) {rem.innerHTML = ""; rem.outerHTML = `<a id="removeimage${images}">` + ele + minbut  + defbut + "</a>";}

            if (images == 1) {
                var butele = document.getElementById("image1");
                butele.style.width = "67%";
                var defbut = '<button id="imgbuttons" style="font-size:13.5px" onclick="addimage()">➕</button>';
                butele.outerHTML =  '<input style="width:48%" id="image1" name="image1" type="url" placeholder="1" required>' + defbut;
            }
        }
            
             
        function copyclip() {
            
            setTimeout(  
                function(){
                changeInnerHTML("copylink","Share this Countdown");
                }    ,6000 );
            
            const urltext = window.location.href;
            changeInnerHTML("copylink","<a href='" + urltext + "' id='copyurl'> URL Copied! if not you can manually copy this  URL </a>");
        navigator.clipboard.writeText(urltext);
        }

        function changeInnerHTML(id,value){
            document.getElementById(id).innerHTML = value;
        }

        const urlParams = new URLSearchParams(window.location.search);
        
        var gifsset = {  "MERRY CHRISTMAS":["https://i.pinimg.com/originals/8b/68/97/8b68972e89a9348fa6692801b3efa297.gif","https://gifdb.com/images/high/anime-himouto-umaru-chan-umaru-doma-merry-christmas-9k80lnlnxtqzppcl.gif","https://i.pinimg.com/originals/5a/1d/63/5a1d635bc2e47ae93340a5bf4134425c.gif","https://1.bp.blogspot.com/-ngjmUJ4GvZg/WL3iK1Ych0I/AAAAAAAAwnk/v7TdGI_UMPgfat2Q8T9kZK7Hm5nLBy12gCPcB/s1600/Omake%2BGif%2BAnime%2B-%2BGabriel%2BDropOut%2B-%2BEpisode%2B9%2B-%2BRaphiel%2BVignette%2BMerry%2BChristmas.gif"], 
            
                       "HAPPY NEW YEAR":["https://media.tenor.com/Gmb_qGIIC3IAAAAd/happy-new-year-new-year.gif","https://media.tenor.com/kULJlStwrCcAAAAM/happy-new-year2021-anime.gif","https://i.pinimg.com/originals/f5/de/b0/f5deb027a419793b01862c130b1b1c53.gif","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQj6w6ZKe5DxFqOk5CTb0X758lkl23KTJFBJA&s","https://64.media.tumblr.com/20945f574b0dab5663a85c27b1de8620/tumblr_p1t2chSCHW1wexa8uo1_400.gif"],
            
                      "HAPPY VALENTINES":["https://i.pinimg.com/originals/11/0d/bd/110dbddfd3d662479c214cacb754995d.gif","https://i.giphy.com/CaAQ3NZZWKb28.gif","https://64.media.tumblr.com/5c929072f9194ee551469af48131b800/tumblr_p5y6ua6fep1vd1993o1_500.gif","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4ZR3mq-MFuCmRWgXa33mrmUYc_olqastMEA&s","https://i.pinimg.com/originals/22/f2/d4/22f2d4141cecd18e0120cb8944cfaaf6.gif"]
                     
                     };
        
        var listimage = [];
        
        for (const [key, value] of urlParams.entries()) {
          if (key.startsWith("image")) listimage.push(value);
        };
        
       
        var argsdate = urlParams.get('date');
        const message = urlParams.get('message');
        
        var event_name = urlParams.get('event');
        var currentDATE = new Date();
        var now = currentDATE.getTime();
        var year = currentDATE.getFullYear();
        
        var countDownDate;

        var events = {
        "HAPPY NEW YEAR":"January 01, " ,
        "HAPPY VALENTINES":"February 14, " ,
        "MERRY CHRISTMAS": "December 25, " 
        };
        var eventtitlle = {
            "HAPPY NEW YEAR":"New Year" ,
            "HAPPY VALENTINES":"Valentines" ,
            "MERRY CHRISTMAS": "Christmas" 
        };

        function checkYearEvent(date){
            var date = new Date(date);
            var Done = (date.getTime() - now) < 0;
            if (Done) {
                return year+1;
            }
            return year
        }
        
        for (var ev in events) {
            dt = events[ev] + year;
            y = checkYearEvent(dt);
            events[ev] = events[ev] + y;
        };
        
        function display(id,dp){
            document.getElementById(id).style.display = dp;
         
        }

      
        var datedisplay;
       
        if (!event_name && !argsdate) event_name = "MERRY CHRISTMAS";
        
        if (argsdate && listimage.length && message){
            countDownDate = new Date(argsdate).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            datedisplay = countDownDate;
            document.title = countDownDate + " Countdown";
            countDownDate = new Date(countDownDate).getTime();
             document.getElementById('message').innerHTML = message;
        }

        if (event_name){
            
            if (!events[event_name]) event_name = "MERRY CHRISTMAS";
            countDownDate = events[event_name];
            countDownDate = new Date(countDownDate);
            document.title = eventtitlle[event_name] + " " + countDownDate.getFullYear() + " Countdown";
            datedisplay = events[event_name];
            countDownDate = countDownDate.getTime();
            listimage = gifsset[event_name];
            document.getElementById('message').innerHTML = event_name + "!";
            
        }


        
        
     
        
        document.getElementById('menu').innerHTML = "&#9776 " + datedisplay;
        
        var x = setInterval(function() {
        var currentnow = new Date().getTime();
        var distance = countDownDate - currentnow;

        var _second = 1000;
        var _minute = _second * 60;
        var _hour = _minute * 60;
        var _day = _hour * 24;
        var days = Math.floor(distance / _day);
        var hours = Math.floor((distance % _day) / _hour);
        var minutes = Math.floor((distance % _hour) / _minute);
        var seconds = Math.floor((distance % _minute) / _second);

        document.getElementById("timer").innerHTML = days + "<a id='small_label'>d</a> " + hours + "<a id='small_label'>h</a> " + minutes + "<a id='small_label'>m</a> " + seconds + "<a id='small_label'>s</a> ";

          if (distance < 0) {
            clearInterval(x);
            document.getElementById("timer").innerHTML = "Countdown Done! Create another!";
            }
        }, 1000);


        function isImgUrl(url) {
          const img = new Image();
          img.src = url;
          return new Promise((resolve) => {
            img.onload = () => resolve(true);
            img.onerror = () => resolve(false);
          });
        }

        

        var index = 0;

        function updateImage() {
            
            document.getElementById("invalimg").style.display = "none";
            document.body.style.backgroundImage = "url('"+listimage[index] +"')";
            index = (index + 1) % listimage.length;
            isImgUrl(listimage[index]).then((isValid) => {
              if (!isValid) {document.body.style.backgroundImage = 'url("https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExdW85NXk3ejZzOGR4NzR2N3JucWM3YXJodnN0bjF5YW9xc3pqZDFodSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cEppZtd4uXVCNN1jRC/giphy.webp")'; 
                document.getElementById("invalimg").style.display = "inline";}
            }); 
            
           
        }
        updateImage();
        setInterval(updateImage, 6500);
        
        
        

        function formatDate(d) {
            var d = new Date(d);
            month = '' + (d.getMonth() + 1),
            day = '' + d.getDate(),
            year = d.getFullYear();

            if (month.length < 2) {month = '0' + month;}
            if (day.length < 2) {day = '0' + day;}

            return [year, month, day].join('-');
        }

        const today = new Date();
        var toms = today.getFullYear() + "-" +  (today.getMonth()+1) + "-" + (today.getDate()+1);
        var toms = formatDate(toms);

        document.getElementById("date").value = toms;
        document.getElementById("date").min = toms;

        var maxdate = (today.getFullYear()+3) + "-" +  (today.getMonth()+1) + "-" + (today.getDate()+1);
        var maxdate = formatDate(maxdate);
        document.getElementById("date").max = maxdate;

        document.addEventListener('mouseover', () => {
            var randomColor = Math.floor(Math.random()*16777215).toString(16);
            window.event.target.style.color = "#" + randomColor; 
         });
        document.addEventListener('mouseout', () => {
              window.event.target.style.color = ""; 
        });
        document.addEventListener('touchstart', () => {
            var randomColor = Math.floor(Math.random()*16777215).toString(16);
            window.event.target.style.color = "#" + randomColor; 
             });
        document.addEventListener('touchend', () => {
                  window.event.target.style.color = ""; 
            });
    
    </script>
    
</body>
</html>
